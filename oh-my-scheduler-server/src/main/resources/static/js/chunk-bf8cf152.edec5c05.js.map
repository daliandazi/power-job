{"version":3,"sources":["webpack:///./src/components/views/InstanceManager.vue?14ca","webpack:///./src/components/views/InstanceManager.vue?9ee0","webpack:///src/components/views/InstanceManager.vue","webpack:///./src/components/views/InstanceManager.vue?4ce7","webpack:///./src/components/views/InstanceManager.vue?e159","webpack:///./src/components/common/InstanceDetail.vue?639e","webpack:///src/components/common/InstanceDetail.vue","webpack:///./src/components/common/InstanceDetail.vue?de66","webpack:///./src/components/common/InstanceDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","instanceQueryContent","model","value","callback","$$v","$set","expression","type","_e","on","listInstanceInfos","_v","onClickRest","staticStyle","instancePageResult","data","instanceTableRowClassName","scopedSlots","_u","key","fn","scope","$event","onClickShowDetail","row","onClickShowLog","onClickStop","totalItems","pageSize","onClickChangeInstancePage","instanceDetailVisible","currentInstanceId","instanceLogVisible","onclickDownloadLog","_s","paginableInstanceLog","totalPages","onClickChangeLogPage","staticRenderFns","component","fetchInstanceDetail","instanceDetail","status","runningTimes","taskTrackerAddress","common","timestamp2Str","actualTriggerTime","finishedTime","result","taskDetail","subInstanceDetails"],"mappings":"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","file":"js/chunk-bf8cf152.edec5c05.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceManager.vue?vue&type=style&index=0&id=9fba5a64&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceManager.vue?vue&type=style&index=0&id=9fba5a64&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"instance_manager\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('el-form',{staticClass:\"el-form--inline\",attrs:{\"inline\":true,\"model\":_vm.instanceQueryContent}},[_c('el-form-item',{attrs:{\"label\":\"实例ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"实例ID\"},model:{value:(_vm.instanceQueryContent.instanceId),callback:function ($$v) {_vm.$set(_vm.instanceQueryContent, \"instanceId\", $$v)},expression:\"instanceQueryContent.instanceId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"任务ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"任务ID\"},model:{value:(_vm.instanceQueryContent.jobId),callback:function ($$v) {_vm.$set(_vm.instanceQueryContent, \"jobId\", $$v)},expression:\"instanceQueryContent.jobId\"}})],1),(_vm.instanceQueryContent.type === 'WORKFLOW')?_c('el-form-item',{attrs:{\"label\":\"工作流实例ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"工作流实例ID\"},model:{value:(_vm.instanceQueryContent.wfInstanceId),callback:function ($$v) {_vm.$set(_vm.instanceQueryContent, \"wfInstanceId\", $$v)},expression:\"instanceQueryContent.wfInstanceId\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.listInstanceInfos}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"cancel\"},on:{\"click\":_vm.onClickRest}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticStyle:{\"float\":\"right\",\"padding-right\":\"10px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.listInstanceInfos}},[_vm._v(\"刷新状态\")])],1)])],1),_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.listInstanceInfos},model:{value:(_vm.instanceQueryContent.type),callback:function ($$v) {_vm.$set(_vm.instanceQueryContent, \"type\", $$v)},expression:\"instanceQueryContent.type\"}},[_c('el-tab-pane',{attrs:{\"label\":\"普通任务实例\",\"name\":\"NORMAL\"}}),_c('el-tab-pane',{attrs:{\"label\":\"工作流任务实例\",\"name\":\"WORKFLOW\"}})],1),_c('el-row',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.instancePageResult.data,\"row-class-name\":_vm.instanceTableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"jobId\",\"label\":\"任务ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"jobName\",\"label\":\"任务名称\"}}),(_vm.instanceQueryContent.type === 'WORKFLOW')?_c('el-table-column',{attrs:{\"prop\":\"wfInstanceId\",\"label\":\"工作流实例ID\"}}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"instanceId\",\"label\":\"实例ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"statusStr\",\"label\":\"状态\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"actualTriggerTime\",\"label\":\"触发时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"finishedTime\",\"label\":\"结束时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.onClickShowDetail(scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.onClickShowLog(scope.row)}}},[_vm._v(\"日志\")]),_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.onClickStop(scope.row)}}},[_vm._v(\"停止\")])]}}])})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"total\":this.instancePageResult.totalItems,\"page-size\":this.instancePageResult.pageSize,\"layout\":\"prev, pager, next\"},on:{\"current-change\":_vm.onClickChangeInstancePage}})],1)],1),(_vm.instanceDetailVisible)?_c('el-dialog',{attrs:{\"title\":\"任务实例详情\",\"visible\":_vm.instanceDetailVisible},on:{\"update:visible\":function($event){_vm.instanceDetailVisible=$event}}},[_c('InstanceDetail',{attrs:{\"instance-id\":_vm.currentInstanceId}})],1):_vm._e(),_c('el-dialog',{attrs:{\"title\":\"日志\",\"visible\":_vm.instanceLogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.instanceLogVisible=$event}}},[_c('el-row',[_c('el-col',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"span\":4,\"offset\":20}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.onclickDownloadLog()}}},[_vm._v(\"下载\")])],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('h4',{staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\" \"+_vm._s(this.paginableInstanceLog.data)+\" \")])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"page-count\":_vm.paginableInstanceLog.totalPages,\"layout\":\"prev, pager, next\"},on:{\"current-change\":_vm.onClickChangeLogPage}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"instance_manager\">\n        <!-- 第一行，搜索区 -->\n        <el-row>\n            <el-col :span=\"22\">\n                <el-form :inline=\"true\" :model=\"instanceQueryContent\" class=\"el-form--inline\">\n                    <el-form-item label=\"实例ID\">\n                        <el-input v-model=\"instanceQueryContent.instanceId\" placeholder=\"实例ID\"/>\n                    </el-form-item>\n                    <el-form-item label=\"任务ID\">\n                        <el-input v-model=\"instanceQueryContent.jobId\" placeholder=\"任务ID\"/>\n                    </el-form-item>\n                    <el-form-item  v-if=\"instanceQueryContent.type === 'WORKFLOW'\" label=\"工作流实例ID\">\n                        <el-input v-model=\"instanceQueryContent.wfInstanceId\" placeholder=\"工作流实例ID\"/>\n                    </el-form-item>\n\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"listInstanceInfos\">查询</el-button>\n                        <el-button type=\"cancel\" @click = \"onClickRest\">重置</el-button>\n                    </el-form-item>\n                </el-form>\n            </el-col>\n            <el-col :span=\"2\">\n\n                <div style=\"float:right;padding-right:10px\">\n                <el-button type=\"primary\" @click=\"listInstanceInfos\" >刷新状态</el-button>\n                </div>\n            </el-col>\n        </el-row>\n\n        <!-- 第二行，切换器 -->\n        <el-tabs type=\"card\" v-model=\"instanceQueryContent.type\" @tab-click=\"listInstanceInfos\">\n            <el-tab-pane label=\"普通任务实例\" name=\"NORMAL\"/>\n            <el-tab-pane label=\"工作流任务实例\" name=\"WORKFLOW\"/>\n        </el-tabs>\n\n        <!-- 第三行，表单 -->\n        <el-row>\n            <el-table :data=\"instancePageResult.data\" style=\"width: 100%\" :row-class-name=\"instanceTableRowClassName\">\n                <el-table-column prop=\"jobId\" label=\"任务ID\" width=\"80\"/>\n                <el-table-column prop=\"jobName\" label=\"任务名称\"/>\n                <el-table-column v-if=\"instanceQueryContent.type === 'WORKFLOW'\" prop=\"wfInstanceId\" label=\"工作流实例ID\"/>\n                <el-table-column prop=\"instanceId\" label=\"实例ID\"/>\n                <el-table-column prop=\"statusStr\" label=\"状态\" width=\"80\" />\n                <el-table-column prop=\"actualTriggerTime\" label=\"触发时间\"/>\n                <el-table-column prop=\"finishedTime\" label=\"结束时间\"/>\n\n                <el-table-column label=\"操作\" width=\"300\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"medium\" @click=\"onClickShowDetail(scope.row)\">详情</el-button>\n                        <el-button size=\"medium\" @click=\"onClickShowLog(scope.row)\">日志</el-button>\n                        <el-button size=\"medium\" @click=\"onClickStop(scope.row)\">停止</el-button>\n                    </template>\n                </el-table-column>\n\n            </el-table>\n        </el-row>\n\n        <!-- 第四行，分页插件 -->\n        <el-row>\n            <el-col :span=\"24\">\n                <el-pagination\n                        :total=\"this.instancePageResult.totalItems\"\n                        :page-size=\"this.instancePageResult.pageSize\"\n                        @current-change=\"onClickChangeInstancePage\"\n                        layout=\"prev, pager, next\"/>\n            </el-col>\n        </el-row>\n\n        <!--  任务实例详情弹出框 -->\n        <el-dialog title=\"任务实例详情\" :visible.sync=\"instanceDetailVisible\" v-if='instanceDetailVisible'>\n            <InstanceDetail :instance-id=\"currentInstanceId\"/>\n        </el-dialog>\n\n        <!-- 任务运行日志弹出框 -->\n        <el-dialog title=\"日志\" :visible.sync=\"instanceLogVisible\" width=\"50%\">\n            <el-row>\n                <el-col :span=\"4\" :offset=\"20\" style=\"margin-bottom:20px\">\n                    <el-button type=\"primary\" size=\"mini\" @click=\"onclickDownloadLog()\" icon=\"el-icon-download\">下载</el-button>\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col :span=\"24\">\n                    <h4 style=\"white-space: pre-line;\">\n                        {{this.paginableInstanceLog.data}}\n                    </h4>\n                </el-col>\n            </el-row>\n\n            <el-row>\n                <el-col :span=\"24\">\n                    <el-pagination\n                            :page-count=\"paginableInstanceLog.totalPages\"\n                            @current-change=\"onClickChangeLogPage\"\n                            layout=\"prev, pager, next\"/>\n                </el-col>\n            </el-row>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import InstanceDetail from \"../common/InstanceDetail\";\n    export default {\n        name: \"InstanceManager\",\n        components: {\n            InstanceDetail\n        },\n        data () {\n            return {\n                // 实例查询对象\n                instanceQueryContent: {\n                    appId: this.$store.state.appInfo.id,\n                    index: 0,\n                    pageSize: 10,\n                    instanceId: undefined,\n                    wfInstanceId:undefined,\n                    jobId: undefined,\n                    type: \"NORMAL\"\n                },\n                // 实例查询结果\n                instancePageResult: {\n                    pageSize: 10,\n                    totalItems: 0,\n                    data: []\n                },\n                // 详细信息弹出框是否可见\n                instanceDetailVisible: false,\n                // 日志查询对象\n                logQueryContent: {\n                    instanceId: undefined,\n                    index: 0\n                },\n                // 日志对象\n                paginableInstanceLog: {\n                    index: 0,\n                    totalPages: 0,\n                    data: \"\"\n                },\n                // 日志弹出框是否可见\n                instanceLogVisible: false,\n                currentInstanceId: undefined\n            }\n        },\n        methods: {\n            // 查询任务实例信息\n            listInstanceInfos() {\n                let that = this;\n                that.axios.post(\"/instance/list\", that.instanceQueryContent).then(res => {\n                    that.instancePageResult = res;\n                });\n            },\n            // 点击重置按钮\n            onClickRest() {\n                this.instanceQueryContent.jobId = undefined;\n                this.instanceQueryContent.instanceId = undefined;\n                this.listInstanceInfos();\n            },\n            // 点击查询详情\n            onClickShowDetail(data) {\n                this.instanceDetailVisible = true;\n                this.currentInstanceId = data.instanceId;\n            },\n            // 点击停止实例\n            onClickStop(data) {\n                let that = this;\n                let url = \"/instance/stop?instanceId=\" + data.instanceId;\n                this.axios.get(url).then(() => {\n                    that.$message.success(\"停止成功\");\n                    // 重新加载列表\n                    that.listInstanceInfos();\n                });\n            },\n            // 换页\n            onClickChangeInstancePage(index) {\n                // 后端从0开始，前端从1开始\n                this.instanceQueryContent.index = index - 1;\n                this.listInstanceInfos();\n            },\n            instanceTableRowClassName({row}) {\n                switch (row.status) {\n                    // 失败\n                    case 4: return 'error-row';\n                    // 成功\n                    case 5: return 'success-row';\n                    case 10: return 'warning-row';\n                }\n            },\n            // 查看日志\n            queryLog() {\n                let that = this;\n                let url = \"/instance/log?instanceId=\" + this.logQueryContent.instanceId + \"&index=\" + this.logQueryContent.index;\n                this.axios.get(url).then((res) => {\n                    that.paginableInstanceLog = res;\n                    that.instanceLogVisible = true;\n                });\n            },\n            // 查看在线日志\n            onClickShowLog(data) {\n                this.logQueryContent.instanceId = data.instanceId;\n                this.logQueryContent.index = 0;\n                this.queryLog();\n            },\n            // 查看其它页的在线日志\n            onClickChangeLogPage(index) {\n                this.logQueryContent.index = index - 1;\n                this.queryLog();\n            },\n            // 下载日志\n            onclickDownloadLog() {\n                let url = \"/instance/downloadLogUrl?instanceId=\" + this.logQueryContent.instanceId;\n                this.axios.get(url).then(res => window.open(res));\n\n            }\n        },\n        mounted() {\n            this.listInstanceInfos();\n        }\n    }\n</script>\n\n<style scoped>\n\n.title{\n    display: inline-block;\n    margin:5px 0;\n    font-size: 16px;\n    font-weight: bold;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstanceManager.vue?vue&type=template&id=9fba5a64&scoped=true&\"\nimport script from \"./InstanceManager.vue?vue&type=script&lang=js&\"\nexport * from \"./InstanceManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InstanceManager.vue?vue&type=style&index=0&id=9fba5a64&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9fba5a64\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"offset\":20}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.fetchInstanceDetail}},[_vm._v(\"刷新\")])],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"-20px\"}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" 状态: \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.instanceDetail.status))])]),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\" 运行次数：\"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.instanceDetail.runningTimes))])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_vm._v(\" TaskTracker地址: \"),_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.instanceDetail.taskTrackerAddress))])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" 开始时间: \"),_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(this.common.timestamp2Str(_vm.instanceDetail.actualTriggerTime)))])]),_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" 结束时间: \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(this.common.timestamp2Str(_vm.instanceDetail.finishedTime)))])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_vm._v(\" 运行结果: \"),_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.instanceDetail.result))])])],1),_c('el-row',{attrs:{\"id\":\"taskDetail\"}},[_vm._v(\" 子任务数据: \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.instanceDetail.taskDetail))])]),_c('el-row',[_c('span',{staticClass:\"title\"},[_vm._v(\"最近10条秒级任务历史记录:\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.instanceDetail.subInstanceDetails}},[_c('el-table-column',{attrs:{\"prop\":\"subInstanceId\",\"label\":\"子实例ID\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"开始时间\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"finishedTime\",\"label\":\"结束时间\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"运行状态\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"result\",\"label\":\"运行结果\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-row>\n            <el-col :offset=\"20\">\n                <el-button type=\"primary\" @click=\"fetchInstanceDetail\">刷新</el-button>\n            </el-col>\n        </el-row>\n        <el-row style=\"margin-top:-20px\">\n            <el-col :span=\"8\">\n                状态: <span class='title' >{{instanceDetail.status}}</span>\n            </el-col>\n            <el-col :span=\"16\">\n                运行次数：<span class='title' >{{instanceDetail.runningTimes}}</span>\n            </el-col>\n        </el-row>\n        <el-row>\n            <el-col :span=\"24\" >\n                TaskTracker地址: <span class='title' > {{instanceDetail.taskTrackerAddress}}</span>\n            </el-col>\n        </el-row>\n        <el-row>\n            <el-col :span=\"8\">\n                开始时间: <span class='title' > {{this.common.timestamp2Str(instanceDetail.actualTriggerTime)}}</span>\n            </el-col>\n            <el-col :span=\"8\">\n                结束时间: <span class='title' >{{this.common.timestamp2Str(instanceDetail.finishedTime)}}</span>\n            </el-col>\n        </el-row>\n        <el-row>\n            <el-col :span=\"24\">\n                运行结果: <span class='title' > {{instanceDetail.result}}</span>\n            </el-col>\n        </el-row>\n        <el-row id=\"taskDetail\">\n            子任务数据: <span class='title' >{{instanceDetail.taskDetail}}</span>\n        </el-row>\n        <el-row>\n            <span class=\"title\">最近10条秒级任务历史记录:</span>\n            <el-table  :data=\"instanceDetail.subInstanceDetails\" style=\"width: 100%\">\n                <el-table-column prop=\"subInstanceId\" label=\"子实例ID\" width=\"100\"/>\n                <el-table-column prop=\"startTime\" label=\"开始时间\" width=\"160\"/>\n                <el-table-column prop=\"finishedTime\" label=\"结束时间\" width=\"160\"/>\n                <el-table-column prop=\"status\" label=\"运行状态\" width=\"100\"/>\n                <el-table-column prop=\"result\" label=\"运行结果\"/>\n            </el-table>\n        </el-row>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"InstanceDetail\",\n        // 数据传递\n        props: [\"instanceId\"],\n        data() {\n            return {\n                instanceDetail: {},\n            }\n        },\n        methods: {\n            fetchInstanceDetail() {\n                let that = this;\n                let url = \"/instance/detail?instanceId=\" + this.instanceId;\n                this.axios.get(url).then(res => that.instanceDetail = res);\n            }\n        },\n        mounted() {\n            console.log(\"using InstanceId: \" + this.instanceId);\n            this.fetchInstanceDetail();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstanceDetail.vue?vue&type=template&id=c05b78a6&scoped=true&\"\nimport script from \"./InstanceDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./InstanceDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c05b78a6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}