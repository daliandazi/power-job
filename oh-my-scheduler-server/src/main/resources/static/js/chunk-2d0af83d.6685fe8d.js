(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af83d"],{"0f3d":function(o,t,e){"use strict";e.r(t);var l=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{attrs:{id:"workflow_manager"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:20}},[e("el-form",{staticClass:"el-form--inline",attrs:{inline:!0,model:o.workflowQueryContent}},[e("el-form-item",{attrs:{label:"工作流ID"}},[e("el-input",{attrs:{placeholder:"工作流ID"},model:{value:o.workflowQueryContent.workflowId,callback:function(t){o.$set(o.workflowQueryContent,"workflowId",t)},expression:"workflowQueryContent.workflowId"}})],1),e("el-form-item",{attrs:{label:"关键字"}},[e("el-input",{attrs:{placeholder:"关键字"},model:{value:o.workflowQueryContent.keyword,callback:function(t){o.$set(o.workflowQueryContent,"keyword",t)},expression:"workflowQueryContent.keyword"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:o.listWorkflow}},[o._v("查询")]),e("el-button",{attrs:{type:"cancel"},on:{click:o.onClickReset}},[o._v("重置")])],1)],1)],1),e("el-col",{attrs:{span:4}},[e("div",{staticStyle:{float:"right","padding-right":"10px"}},[e("el-button",{attrs:{type:"primary"},on:{click:o.onClickNewWorkflow}},[o._v("新建工作流")])],1)])],1),e("el-row",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:o.workflowPageResult.data}},[e("el-table-column",{attrs:{prop:"id",label:"工作流ID",width:"120"}}),e("el-table-column",{attrs:{prop:"wfName",label:"工作流名称"}}),e("el-table-column",{attrs:{label:"定时信息"},scopedSlots:o._u([{key:"default",fn:function(t){return[o._v(" "+o._s(t.row.timeExpressionType)+" "+o._s(t.row.timeExpression)+" ")]}}])}),e("el-table-column",{attrs:{label:"状态",width:"80"},scopedSlots:o._u([{key:"default",fn:function(t){return[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return o.switchWorkflow(t.row)}},model:{value:t.row.enable,callback:function(e){o.$set(t.row,"enable",e)},expression:"scope.row.enable"}})]}}])}),e("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:o._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{size:"medium"},on:{click:function(e){return o.onClickModifyWorkflow(t.row)}}},[o._v("编辑")]),e("el-button",{attrs:{size:"medium"},on:{click:function(e){return o.onClickRunWorkflow(t.row)}}},[o._v("运行")]),e("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(e){return o.onClickDeleteWorkflow(t.row)}}},[o._v("删除")])]}}])})],1)],1)],1)},r=[],n={name:"WorkflowManager",data:function(){return{workflowQueryContent:{appId:this.$store.state.appInfo.id,index:0,pageSize:10,workflowId:void 0,keyword:void 0},workflowPageResult:{pageSize:10,totalItems:0,data:[]},workflowObj:{}}},methods:{listWorkflow:function(){var o=this;this.axios.post("/workflow/list",this.workflowQueryContent).then((function(t){o.workflowPageResult=t}))},onClickReset:function(){this.workflowQueryContent.workflowId=void 0,this.workflowQueryContent.keyword=void 0},switchWorkflow:function(o){var t=this,e=o.enable?"enable":"disable",l="/workflow/"+e+"?appId="+this.$store.state.appInfo.id+"&workflowId="+o.id;this.axios.get(l,(function(o){console.log(o),t.listWorkflow()}))},onClickModifyWorkflow:function(o){this.$router.push({name:"workflowEditor",params:{modify:!0,workflowInfo:o}})},onClickRunWorkflow:function(o){var t=this,e="/workflow/run?appId="+this.$store.state.appInfo.id+"&workflowId="+o.id;this.axios.get(e).then((function(){return t.$message.success("触发成功")}))},onClickDeleteWorkflow:function(o){var t=this,e="/workflow/delete?appId="+this.$store.state.appInfo.id+"&workflowId="+o.id;this.axios.get(e).then((function(){t.$message.success("删除成功"),t.listWorkflow()}))},onClickNewWorkflow:function(){this.$router.push({name:"workflowEditor",params:{modify:!1}})}},mounted:function(){this.listWorkflow()}},i=n,a=e("2877"),s=Object(a["a"])(i,l,r,!1,null,"99a34174",null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d0af83d.6685fe8d.js.map