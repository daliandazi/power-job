{"version":3,"sources":["webpack:///./src/components/views/WorkflowManager.vue?475c","webpack:///src/components/views/WorkflowManager.vue","webpack:///./src/components/views/WorkflowManager.vue?60af","webpack:///./src/components/views/WorkflowManager.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","workflowQueryContent","model","value","callback","$$v","$set","expression","on","listWorkflow","_v","onClickReset","staticStyle","onClickNewWorkflow","workflowPageResult","data","scopedSlots","_u","key","fn","scope","_s","row","timeExpressionType","timeExpression","$event","switchWorkflow","onClickModifyWorkflow","onClickRunWorkflow","onClickDeleteWorkflow","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0af83d.6685fe8d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workflow_manager\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{staticClass:\"el-form--inline\",attrs:{\"inline\":true,\"model\":_vm.workflowQueryContent}},[_c('el-form-item',{attrs:{\"label\":\"工作流ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"工作流ID\"},model:{value:(_vm.workflowQueryContent.workflowId),callback:function ($$v) {_vm.$set(_vm.workflowQueryContent, \"workflowId\", $$v)},expression:\"workflowQueryContent.workflowId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"关键字\"}},[_c('el-input',{attrs:{\"placeholder\":\"关键字\"},model:{value:(_vm.workflowQueryContent.keyword),callback:function ($$v) {_vm.$set(_vm.workflowQueryContent, \"keyword\", $$v)},expression:\"workflowQueryContent.keyword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.listWorkflow}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"cancel\"},on:{\"click\":_vm.onClickReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticStyle:{\"float\":\"right\",\"padding-right\":\"10px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onClickNewWorkflow}},[_vm._v(\"新建工作流\")])],1)])],1),_c('el-row',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.workflowPageResult.data}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"工作流ID\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"wfName\",\"label\":\"工作流名称\"}}),_c('el-table-column',{attrs:{\"label\":\"定时信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.timeExpressionType)+\" \"+_vm._s(scope.row.timeExpression)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.switchWorkflow(scope.row)}},model:{value:(scope.row.enable),callback:function ($$v) {_vm.$set(scope.row, \"enable\", $$v)},expression:\"scope.row.enable\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.onClickModifyWorkflow(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.onClickRunWorkflow(scope.row)}}},[_vm._v(\"运行\")]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onClickDeleteWorkflow(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"workflow_manager\">\n\n    <!--第一行，条件搜索栏-->\n    <el-row :gutter=\"20\">\n\n        <!-- 左侧搜索栏，占地面积 20/24 -->\n        <el-col :span=\"20\">\n            <el-form :inline=\"true\" :model=\"workflowQueryContent\" class=\"el-form--inline\">\n                <el-form-item label=\"工作流ID\">\n                    <el-input v-model=\"workflowQueryContent.workflowId\" placeholder=\"工作流ID\"/>\n                </el-form-item>\n                <el-form-item label=\"关键字\">\n                    <el-input v-model=\"workflowQueryContent.keyword\" placeholder=\"关键字\"/>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"listWorkflow\">查询</el-button>\n                    <el-button type=\"cancel\" @click=\"onClickReset\">重置</el-button>\n                </el-form-item>\n            </el-form>\n        </el-col>\n\n        <!-- 右侧新增任务按钮，占地面积 4/24 -->\n        <el-col :span=\"4\">\n            <div style=\"float:right;padding-right:10px\">\n                <el-button type=\"primary\" @click=\"onClickNewWorkflow\">新建工作流</el-button>\n            </div>\n        </el-col>\n    </el-row>\n\n    <!--第二行，工作流数据表格-->\n    <el-row>\n        <el-table :data=\"workflowPageResult.data\" style=\"width: 100%\">\n            <el-table-column prop=\"id\" label=\"工作流ID\" width=\"120\"/>\n            <el-table-column prop=\"wfName\" label=\"工作流名称\"/>\n            <el-table-column label=\"定时信息\" >\n                <template slot-scope=\"scope\">\n                    {{scope.row.timeExpressionType}}  {{scope.row.timeExpression}}\n                </template>\n            </el-table-column>\n            <el-table-column label=\"状态\" width=\"80\">\n                <template slot-scope=\"scope\">\n                    <el-switch v-model=\"scope.row.enable\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" @change=\"switchWorkflow(scope.row)\"/>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"300\">\n                <template slot-scope=\"scope\">\n                    <el-button size=\"medium\" @click=\"onClickModifyWorkflow(scope.row)\">编辑</el-button>\n                    <el-button size=\"medium\" @click=\"onClickRunWorkflow(scope.row)\">运行</el-button>\n                    <el-button size=\"medium\" type=\"danger\" @click=\"onClickDeleteWorkflow(scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </el-row>\n</div>\n</template>\n\n<script>\n    export default {\n        name: \"WorkflowManager\",\n        data() {\n            return {\n                // 查询条件\n                workflowQueryContent: {\n                    appId: this.$store.state.appInfo.id,\n                    index: 0,\n                    pageSize: 10,\n                    workflowId: undefined,\n                    keyword: undefined\n                },\n                // 工作流查询结果\n                workflowPageResult: {\n                    pageSize: 10,\n                    totalItems: 0,\n                    data: []\n                },\n                // 新建工作流对象\n                workflowObj: {\n\n                },\n            }\n        },\n        methods: {\n            // 查询工作流\n            listWorkflow() {\n                const that = this;\n                this.axios.post(\"/workflow/list\", this.workflowQueryContent).then((res) => {\n                    that.workflowPageResult = res;\n                });\n            },\n            // 点击重置\n            onClickReset() {\n                this.workflowQueryContent.workflowId = undefined;\n                this.workflowQueryContent.keyword = undefined;\n            },\n            // 开关工作流\n            switchWorkflow(data) {\n                let that = this;\n                let path = data.enable ? \"enable\" : \"disable\";\n                let url = \"/workflow/\" + path + \"?appId=\" + this.$store.state.appInfo.id + \"&workflowId=\" + data.id;\n                this.axios.get(url, res => {\n                    console.log(res);\n                    that.listWorkflow();\n                });\n            },\n            // 编辑工作流\n            onClickModifyWorkflow(data) {\n                this.$router.push({\n                    name: 'workflowEditor',\n                    params: {\n                        modify: true,\n                        workflowInfo: data\n                    }\n                })\n            },\n            // 立即运行工作流\n            onClickRunWorkflow(data) {\n                let that = this;\n                let url = \"/workflow/run?appId=\" + this.$store.state.appInfo.id + \"&workflowId=\" + data.id;\n                this.axios.get(url).then(() => that.$message.success(\"触发成功\"));\n            },\n            // 删除工作流\n            onClickDeleteWorkflow(data) {\n                let that = this;\n                let url = \"/workflow/delete?appId=\" + this.$store.state.appInfo.id + \"&workflowId=\" + data.id;\n                this.axios.get(url).then(() => {\n                    that.$message.success(\"删除成功\");\n                    that.listWorkflow();\n                });\n            },\n            // 新建工作流\n            onClickNewWorkflow() {\n                this.$router.push({\n                    name: 'workflowEditor',\n                    params: {\n                        modify: false\n                    }\n                })\n            }\n\n        },\n        mounted() {\n            this.listWorkflow();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkflowManager.vue?vue&type=template&id=99a34174&scoped=true&\"\nimport script from \"./WorkflowManager.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkflowManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99a34174\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}