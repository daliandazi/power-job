(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a05a51d"],{6337:function(t,s,e){"use strict";var a=e("ffdc"),i=e.n(a);i.a},"7d8a":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"home"}},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"always"}},[t._v(" 调度中心服务器时间："+t._s(this.common.timestamp2Str(t.systemInfo.serverTime))+" ")])],1),e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"always"}},[t._v(" 本地浏览器时间："+t._s(this.common.timestamp2Str((new Date).getTime()))+" ")])],1)],1),e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:6}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"grid-content bg-purple"},[e("div",{staticClass:"text mTitle"},[t._v("任务总数")]),e("div",{staticClass:"text mText"},[t._v(t._s(t.systemInfo.jobCount))])]),e("i",{staticClass:"el-icon-orange"})])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"grid-content bg-purple"},[e("div",{staticClass:"text mTitle"},[t._v("当前运行实例数")]),e("div",{staticClass:"text"},[t._v(t._s(t.systemInfo.runningInstanceCount))])]),e("i",{staticClass:"el-icon-loading"})])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"grid-content bg-purple"},[e("div",{staticClass:"text mTitle"},[t._v("近期失败任务数")]),e("div",{staticClass:"text"},[t._v(t._s(t.systemInfo.failedInstanceCount))])]),e("i",{staticClass:"el-icon-bell"})])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"grid-content bg-purple"},[e("div",{staticClass:"text mTitle"},[t._v("集群机器数")]),e("div",{staticClass:"text"},[t._v(t._s(t.activeWorkerCount))])]),e("i",{staticClass:"el-icon-cpu"})])])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.workerList,height:"400px","row-class-name":t.workerTableRowClassName}},[e("el-table-column",{attrs:{prop:"address",label:"机器地址"}}),e("el-table-column",{attrs:{prop:"cpuLoad",label:"CPU占用"}}),e("el-table-column",{attrs:{prop:"memoryLoad",label:"内存占用"}}),e("el-table-column",{attrs:{prop:"diskLoad",label:"磁盘占用"}})],1)],1)],1)],1)},i=[],r={name:"Home",data:function(){return{systemInfo:{jobCount:"N/A",runningInstanceCount:"N/A",failedInstanceCount:"N/A",serverTime:void 0},activeWorkerCount:"N/A",workerList:[]}},methods:{workerTableRowClassName:function(t){var s=t.row;switch(s.status){case 1:return"success-row";case 2:return"warning-row";case 3:return"error-row"}}},mounted:function(){var t=this,s=this,e=s.$store.state.appInfo.id;s.axios.get("/system/listWorker?appId="+e).then((function(t){s.workerList=t,s.activeWorkerCount=s.workerList.length})),s.axios.get("/system/overview?appId="+e).then((function(e){s.systemInfo=e;var a=(new Date).getTime(),i=e.serverTime;console.log("localTime: %o, serverTime: %o",a,i);var r=a-i;Math.abs(r)>6e4&&t.$notify({title:"警告",message:"调度中心服务器与本地存在时间差，可能影响任务调度准确性，建议排查时间问题！",type:"warning",duration:0})}))}},n=r,o=(e("e1e7"),e("6337"),e("2877")),l=Object(o["a"])(n,a,i,!1,null,"19b16cc7",null);s["default"]=l.exports},e1e7:function(t,s,e){"use strict";var a=e("e3cf"),i=e.n(a);i.a},e3cf:function(t,s,e){},ffdc:function(t,s,e){}}]);
//# sourceMappingURL=chunk-5a05a51d.d690c877.js.map