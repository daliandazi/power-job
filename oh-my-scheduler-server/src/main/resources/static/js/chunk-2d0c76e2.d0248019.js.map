{"version":3,"sources":["webpack:///./src/components/views/InstanceManager.vue?1165","webpack:///src/components/views/InstanceManager.vue","webpack:///./src/components/views/InstanceManager.vue?4ce7","webpack:///./src/components/views/InstanceManager.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","instanceQueryContent","model","value","callback","$$v","$set","expression","on","listInstanceInfos","_v","onClickRest","staticStyle","instancePageResult","data","instanceTableRowClassName","scopedSlots","_u","key","fn","scope","$event","onClickShowDetail","row","onClickShowLog","onClickStop","totalItems","pageSize","onClickChangeInstancePage","instanceDetailVisible","_s","instanceDetail","status","runningTimes","taskTrackerAddress","common","timestamp2Str","actualTriggerTime","finishedTime","result","taskDetail","subInstanceDetails","instanceLogVisible","onclickDownloadLog","paginableInstanceLog","totalPages","onClickChangeLogPage","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0c76e2.d0248019.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"instance_manager\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{staticClass:\"el-form--inline\",attrs:{\"inline\":true,\"model\":_vm.instanceQueryContent}},[_c('el-form-item',{attrs:{\"label\":\"实例ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"实例ID\"},model:{value:(_vm.instanceQueryContent.instanceId),callback:function ($$v) {_vm.$set(_vm.instanceQueryContent, \"instanceId\", $$v)},expression:\"instanceQueryContent.instanceId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"任务ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"任务ID\"},model:{value:(_vm.instanceQueryContent.jobId),callback:function ($$v) {_vm.$set(_vm.instanceQueryContent, \"jobId\", $$v)},expression:\"instanceQueryContent.jobId\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.listInstanceInfos}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"cancel\"},on:{\"click\":_vm.onClickRest}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.listInstanceInfos}},[_vm._v(\"刷新\")])],1)],1),_c('el-row',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.instancePageResult.data,\"row-class-name\":_vm.instanceTableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"jobId\",\"label\":\"任务ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"jobName\",\"label\":\"任务名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"instanceId\",\"label\":\"实例ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"statusStr\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"prop\":\"actualTriggerTime\",\"label\":\"触发时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"finishedTime\",\"label\":\"结束时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onClickShowDetail(scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onClickShowLog(scope.row)}}},[_vm._v(\"日志\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onClickStop(scope.row)}}},[_vm._v(\"停止\")])]}}])})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"total\":this.instancePageResult.totalItems,\"page-size\":this.instancePageResult.pageSize,\"layout\":\"prev, pager, next\"},on:{\"current-change\":_vm.onClickChangeInstancePage}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"任务详情\",\"visible\":_vm.instanceDetailVisible},on:{\"update:visible\":function($event){_vm.instanceDetailVisible=$event}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" 状态: \"+_vm._s(_vm.instanceDetail.status)+\" \")]),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\" 运行次数：\"+_vm._s(_vm.instanceDetail.runningTimes)+\" \")])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_vm._v(\" TaskTracker地址: \"+_vm._s(_vm.instanceDetail.taskTrackerAddress)+\" \")])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" 开始时间: \"+_vm._s(this.common.timestamp2Str(_vm.instanceDetail.actualTriggerTime))+\" \")]),_c('el-col',{attrs:{\"span\":8}},[_vm._v(\" 结束时间: \"+_vm._s(this.common.timestamp2Str(_vm.instanceDetail.finishedTime))+\" \")])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_vm._v(\" 运行结果: \"+_vm._s(_vm.instanceDetail.result)+\" \")])],1),_c('el-row',{attrs:{\"id\":\"taskDetail\"}},[_vm._v(\" 子任务数据: \"+_vm._s(_vm.instanceDetail.taskDetail)+\" \")]),_c('el-row',[_vm._v(\" 最近10条秒级任务历史记录 \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.instanceDetail.subInstanceDetails}},[_c('el-table-column',{attrs:{\"prop\":\"subInstanceId\",\"label\":\"子实例ID\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"开始时间\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"finishedTime\",\"label\":\"结束时间\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"运行状态\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"result\",\"label\":\"运行结果\"}})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"日志\",\"visible\":_vm.instanceLogVisible,\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.instanceLogVisible=$event}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4,\"offset\":20}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.onclickDownloadLog()}}},[_vm._v(\"下载\")])],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\" \"+_vm._s(this.paginableInstanceLog.data)+\" \")])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"page-count\":_vm.paginableInstanceLog.totalPages,\"layout\":\"prev, pager, next\"},on:{\"current-change\":_vm.onClickChangeLogPage}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"instance_manager\">\n        <!-- 第一行，搜索区 -->\n        <el-row>\n            <el-col :span=\"20\">\n                <el-form :inline=\"true\" :model=\"instanceQueryContent\" class=\"el-form--inline\">\n                    <el-form-item label=\"实例ID\">\n                        <el-input v-model=\"instanceQueryContent.instanceId\" placeholder=\"实例ID\"/>\n                    </el-form-item>\n                    <el-form-item label=\"任务ID\">\n                        <el-input v-model=\"instanceQueryContent.jobId\" placeholder=\"任务ID\"/>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"listInstanceInfos\">查询</el-button>\n                        <el-button type=\"cancel\" @click = \"onClickRest\">重置</el-button>\n                    </el-form-item>\n                </el-form>\n            </el-col>\n            <el-col :span=\"4\">\n                <el-button type=\"primary\" @click=\"listInstanceInfos\">刷新</el-button>\n            </el-col>\n        </el-row>\n\n        <!-- 第二行，表单 -->\n        <el-row>\n            <el-table :data=\"instancePageResult.data\" style=\"width: 100%\" :row-class-name=\"instanceTableRowClassName\">\n                <el-table-column prop=\"jobId\" label=\"任务ID\"/>\n                <el-table-column prop=\"jobName\" label=\"任务名称\"/>\n                <el-table-column prop=\"instanceId\" label=\"实例ID\"/>\n                <el-table-column prop=\"statusStr\" label=\"状态\"/>\n                <el-table-column prop=\"actualTriggerTime\" label=\"触发时间\"/>\n                <el-table-column prop=\"finishedTime\" label=\"结束时间\"/>\n\n                <el-table-column label=\"操作\" width=\"240px\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"mini\" @click=\"onClickShowDetail(scope.row)\">详情</el-button>\n                        <el-button size=\"mini\" @click=\"onClickShowLog(scope.row)\">日志</el-button>\n                        <el-button size=\"mini\" @click=\"onClickStop(scope.row)\">停止</el-button>\n                    </template>\n                </el-table-column>\n\n            </el-table>\n        </el-row>\n\n        <!-- 第三行，分页插件 -->\n        <el-row>\n            <el-col :span=\"24\">\n                <el-pagination\n                        :hide-on-single-page=\"true\"\n                        :total=\"this.instancePageResult.totalItems\"\n                        :page-size=\"this.instancePageResult.pageSize\"\n                        @current-change=\"onClickChangeInstancePage\"\n                        layout=\"prev, pager, next\"/>\n            </el-col>\n        </el-row>\n\n        <!--  任务实例详情弹出框 -->\n        <el-dialog title=\"任务详情\" :visible.sync=\"instanceDetailVisible\">\n            <el-row>\n                <el-col :span=\"8\">\n                    状态: {{instanceDetail.status}}\n                </el-col>\n                <el-col :span=\"16\">\n                    运行次数：{{instanceDetail.runningTimes}}\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col :span=\"24\">\n                    TaskTracker地址: {{instanceDetail.taskTrackerAddress}}\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col :span=\"8\">\n                    开始时间: {{this.common.timestamp2Str(instanceDetail.actualTriggerTime)}}\n                </el-col>\n                <el-col :span=\"8\">\n                    结束时间: {{this.common.timestamp2Str(instanceDetail.finishedTime)}}\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col :span=\"24\">\n                    运行结果: {{instanceDetail.result}}\n                </el-col>\n            </el-row>\n            <el-row id=\"taskDetail\">\n                子任务数据: {{instanceDetail.taskDetail}}\n            </el-row>\n            <el-row>\n                最近10条秒级任务历史记录\n                <el-table  :data=\"instanceDetail.subInstanceDetails\" style=\"width: 100%\">\n                    <el-table-column prop=\"subInstanceId\" label=\"子实例ID\" width=\"100\"/>\n                    <el-table-column prop=\"startTime\" label=\"开始时间\" width=\"160\"/>\n                    <el-table-column prop=\"finishedTime\" label=\"结束时间\" width=\"160\"/>\n                    <el-table-column prop=\"status\" label=\"运行状态\" width=\"100\"/>\n                    <el-table-column prop=\"result\" label=\"运行结果\"/>\n                </el-table>\n            </el-row>\n        </el-dialog>\n\n        <!-- 任务运行日志弹出框 -->\n        <el-dialog title=\"日志\" :visible.sync=\"instanceLogVisible\" width=\"80%\">\n            <el-row>\n                <el-col :span=\"4\" :offset=\"20\">\n                    <el-button type=\"primary\" size=\"mini\" @click=\"onclickDownloadLog()\" icon=\"el-icon-download\">下载</el-button>\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col :span=\"24\">\n                    <div style=\"white-space: pre-line;\">\n                        {{this.paginableInstanceLog.data}}\n                    </div>\n                </el-col>\n            </el-row>\n\n            <el-row>\n                <el-col :span=\"24\">\n                    <el-pagination\n                            :hide-on-single-page=\"true\"\n                            :page-count=\"paginableInstanceLog.totalPages\"\n                            @current-change=\"onClickChangeLogPage\"\n                            layout=\"prev, pager, next\"/>\n                </el-col>\n            </el-row>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"InstanceManager\",\n        data () {\n            return {\n                // 实例查询对象\n                instanceQueryContent: {\n                    appId: this.$store.state.appInfo.id,\n                    index: 0,\n                    pageSize: 10,\n                    instanceId: undefined,\n                    jobId: undefined\n                },\n                // 实例查询结果\n                instancePageResult: {\n                    pageSize: 10,\n                    totalItems: 0,\n                    data: []\n                },\n                // 某个任务的详细信息\n                instanceDetail: {},\n                // 详细信息弹出框是否可见\n                instanceDetailVisible: false,\n                // 日志查询对象\n                logQueryContent: {\n                    instanceId: undefined,\n                    index: 0\n                },\n                // 日志弹出框是否可见\n                instanceLogVisible: false,\n                // 日志对象\n                paginableInstanceLog: {\n                    index: 0,\n                    totalPages: 0,\n                    data: \"\"\n                }\n            }\n        },\n        methods: {\n            // 查询任务实例信息\n            listInstanceInfos() {\n                let that = this;\n                that.axios.post(\"/instance/list\", that.instanceQueryContent).then(res => {\n                    that.instancePageResult = res;\n                });\n            },\n            // 点击重置按钮\n            onClickRest() {\n                this.instanceQueryContent.jobId = undefined;\n                this.instanceQueryContent.instanceId = undefined;\n                this.listInstanceInfos();\n            },\n            // 点击查询详情\n            onClickShowDetail(data) {\n                let that = this;\n                let url = \"/instance/status?instanceId=\" + data.instanceId;\n                this.axios.get(url).then((res) => {\n                    that.instanceDetail = res;\n                    that.instanceDetailVisible = true;\n                });\n            },\n            // 点击停止实例\n            onClickStop(data) {\n                let that = this;\n                let url = \"/instance/stop?instanceId=\" + data.instanceId;\n                this.axios.get(url).then(() => {\n                    that.$message.success(\"停止成功\");\n                    // 重新加载列表\n                    that.listInstanceInfos();\n                });\n            },\n            // 换页\n            onClickChangeInstancePage(index) {\n                // 后端从0开始，前端从1开始\n                this.instanceQueryContent.index = index - 1;\n                this.listInstanceInfos();\n            },\n            instanceTableRowClassName({row}) {\n                switch (row.status) {\n                    // 失败\n                    case 4: return 'error-row';\n                    // 成功\n                    case 5: return 'success-row';\n                    case 10: return 'warning-row';\n                }\n            },\n            // 查看日志\n            queryLog() {\n                let that = this;\n                let url = \"/instance/log?instanceId=\" + this.logQueryContent.instanceId + \"&index=\" + this.logQueryContent.index;\n                this.axios.get(url).then((res) => {\n                    that.paginableInstanceLog = res;\n                    that.instanceLogVisible = true;\n                });\n            },\n            // 查看在线日志\n            onClickShowLog(data) {\n                this.logQueryContent.instanceId = data.instanceId;\n                this.logQueryContent.index = 0;\n                this.queryLog();\n            },\n            // 查看其它页的在线日志\n            onClickChangeLogPage(index) {\n                this.logQueryContent.index = index - 1;\n                this.queryLog();\n            },\n            // 下载日志\n            onclickDownloadLog() {\n                let url = \"/instance/downloadLogUrl?instanceId=\" + this.logQueryContent.instanceId;\n                this.axios.get(url).then(res => window.open(res));\n\n            }\n        },\n        mounted() {\n            this.listInstanceInfos();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstanceManager.vue?vue&type=template&id=1997fff2&scoped=true&\"\nimport script from \"./InstanceManager.vue?vue&type=script&lang=js&\"\nexport * from \"./InstanceManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1997fff2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}